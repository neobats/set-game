// Generated by ReScript, PLEASE EDIT WITH CARE

import * as React from "react";
import * as CardDef from "../rules/CardDef.res.mjs";
import * as Belt_Array from "@rescript/runtime/lib/es6/Belt_Array.js";

function init() {
  let cards = Belt_Array.makeBy(81, param => ({
    id: 0,
    shape: "Tilde",
    color: "Red",
    fill: "Solid",
    number: "One"
  }));
  let cardId = 0;
  for (let shape = 1; shape <= 3; ++shape) {
    for (let color = 1; color <= 3; ++color) {
      for (let number = 1; number <= 3; ++number) {
        for (let fill = 1; fill <= 3; ++fill) {
          cards[cardId] = {
            id: cardId,
            shape: CardDef.toShape(shape),
            color: CardDef.toColor(color),
            fill: CardDef.toFill(fill),
            number: CardDef.toNumber(number)
          };
          cardId = cardId + 1 | 0;
        }
      }
    }
  }
  return cards;
}

function useDeck() {
  let match = React.useState(() => init());
  let setDeck = match[1];
  let _deck = match[0];
  let resetDeck = () => setDeck(param => init());
  let deck = React.useMemo(() => Belt_Array.shuffle(_deck), [_deck]);
  return [
    deck,
    resetDeck
  ];
}

export {
  init,
  useDeck,
}
/* react Not a pure module */
